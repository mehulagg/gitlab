#import "../fragments/user.fragment.graphql"
#import "~/graphql_shared/fragments/user_availability.fragment.graphql"

query usersSearch($search: String!, $fullPath: ID!) {
  workspace: project(fullPath: $fullPath) {
    # INVITED_GROUP's been temporarily removed from relations
    # https://gitlab.com/gitlab-org/gitlab/-/issues/329750
    users: projectMembers(search: $search, relations: [DIRECT, INHERITED]) {
      nodes {
        user {
          ...User
          ...UserAvailability
        }
      }
    }
  }
}
