- expanded = local_assigns.fetch(:expanded)

%h4
  = _('Variables')
  = link_to sprite_icon('question-o', css_class: 'gl-vertical-align-baseline!'), help_page_path('ci/variables/README', anchor: 'custom-environment-variables'), target: '_blank', rel: 'noopener noreferrer'

%button.btn.gl-button.btn-default.js-settings-toggle{ type: 'button' }
  = expanded ? _('Collapse') : _('Expand')

%p
  = _('You can use variables for passwords, secret keys, and so on. Instance variables are available in all projects on the instance, and are passed to environments by the runner.')
  = link_to _('Learn more.'), help_page_path('ci/variables/README', anchor: 'instance-level-cicd-environment-variables')
%p
  = _('Variables can be:')
%ul
  %li
    = html_escape(_('%{code_open}Protected:%{code_close} Only exposed to protected branches or tags.')) % { code_open: '<code>'.html_safe, code_close: '</code>'.html_safe }
  %li
    = html_escape(_('%{code_open}Masked:%{code_close} Hidden in job logs (must match regular expression requirements).')) % { code_open: '<code>'.html_safe, code_close: '</code>'.html_safe }
    = link_to _('Learn more.'), help_page_path('ci/variables/README', anchor: 'mask-a-custom-variable')
