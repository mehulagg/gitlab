# always use `gitlab-org` runners, however
# in cases where jobs require Docker-in-Docker, the job
# definition must be extended with `.use-docker-in-docker`
default:
  image: "registry.gitlab.com/gitlab-org/gitlab-build-images:ruby-2.6.6-golang-1.14-git-2.27-lfs-2.9-chrome-83-node-12.x-yarn-1.21-postgresql-11-graphicsmagick-1.3.34"
  tags:
    - gitlab-org
  # All jobs are interruptible by default
  interruptible: true

requirements_check:
  rules:
  - if: $CI_HAS_OPEN_REQUIREMENTS == "true"
    when: manual
  - when: never
  allow_failure: false
  script:
    - export
    - mkdir -p tmp
    - echo "{\"*\":\"passed\"}" > tmp/requirements.json
  artifacts:
    reports:
      requirements: tmp/requirements.json
