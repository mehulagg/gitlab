%section.settings.no-animate#protected-environments-locks{ class: ('expanded' if expanded) }
  .settings-header
    %h4
      = _("Protected Environments Locks")
    %button.gl-button.btn.js-settings-toggle{ type: 'button' }
      = expanded ? _('Collapse') : _('Expand')
    %p
      = s_('ProtectedEnvironment|Lock Protected Environments Rules (Owner only).')

  .settings-content
    .row
      .col-lg-12
        = form_for @project, url: project_settings_ci_cd_path(@project, anchor: 'protected-environments-locks') do |f|
          = form_errors(@project)
          %fieldset.builds-feature
            .gl-form-group.form-group
              .card
                .card-body
                  .gl-form.form-check
                    = f.check_box :protected_environments_rules_locked, class: 'gl-form-checkbox form-check-input'
                    = f.label :protected_environments_rules_locked, class: 'form-check-label col-form-label' do
                      = s_('ProtectedEnvironment|Lock Protected Environments Rules')
                    %small.form-text.text-gl-muted
                      = s_('ProtectedEnvironment|Lock Protected Environments Rules in order to prevent maintainers from modifying it.')
                      = link_to _('More information'), help_page_path('ci/environments/index.md', anchor: 'auto-rollback'), target: '_blank'

            = f.submit _('Save changes'), class: "gl-button btn btn-success gl-mt-5", data: { qa_selector: 'save_changes_button' }
