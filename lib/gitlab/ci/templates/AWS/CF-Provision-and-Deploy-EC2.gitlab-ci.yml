# To contribute improvements to CI/CD templates, please follow the Development guide at:
# https://docs.gitlab.com/ee/development/cicd/templates.html
# This specific template is located at:
# https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/AWS/CF-Provision-and-Deploy-EC2.gitlab-ci.yml

template_metadata:
  name: CF Provision and Deploy EC2
  desc: This is a GitLab managed template.
  stages: ["devops::release"]
  maintainers: ["group::release"]
  categories: ["Category:Continuous Delivery"]
  usage: inclusion
  inclusion_type: shared-workflow

stages:
  - provision
  - review
  - production

variables:
  AUTO_DEVOPS_PLATFORM_TARGET: EC2

include:
  - template: Jobs/CF-Provision.gitlab-ci.yml
  - template: Jobs/Deploy/EC2.gitlab-ci.yml
